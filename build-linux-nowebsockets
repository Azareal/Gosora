echo "Deleting artifacts from previous builds"
rm -f template_*.go
rm -f gen_*.go
rm -f tmpl_client/template_*.go
rm -f ./Gosora

echo "Building the router generator"
go build ./router_gen
echo "Running the router generator"
router_gen.exe

echo "Building the query generator"
go build ./query_gen
echo "Running the query generator"
query_gen.exe

echo "Building Gosora"
go generate
go build -o Gosora -tags no_ws

echo "Building the installer"
cd ./install
go build -o Install
mv ./Install ..
cd ..
